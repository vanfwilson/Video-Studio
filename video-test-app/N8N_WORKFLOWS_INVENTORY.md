# n8n-3a Workflows Inventory

**Server:** automation.aiautomationauthority.com
**Container:** n8n-3a
**Last Updated:** 2026-01-22

## Business Research / Leads

| ID | Name | Description |
|----|------|-------------|
| `xUBAtsOGtpGrVIhk` | Local Business Intelligence Hub | Main hub for local business research |
| `KgugRMdPQ5Iz0LaD` | Business Discovery Pipeline | Pipeline for discovering businesses |
| `4GU0NYOLrm0zOhnC` | initial Business Discovery | Initial business discovery workflow |
| `y8Q9qf0kUTM7rFX3` | Google Maps Business Discovery | Google Maps business discovery |
| `JbUqsltR7Z4i49Se` | working google maps | Working Google Maps scraper |
| `GB0ccLogOdwdKT6N` | Google Maps Scraper using SerpAPI | SerpAPI-based Maps scraper |
| `b4FLyu9DBIiTRrRh` | Google Maps Email Discovery copy | Email discovery from Maps |
| `kaewXmBhWR2c2Rw9` | Google Maps Email Discovery (Apify) | Apify-based email discovery |
| `xiabGWCXUOe469Nm` | Google Maps Email Scraper with HTTP Requests & JavaScript | HTTP-based Maps scraper |
| `cQAILffOajE9n2cf` | Generate Leads with Google Maps - AlexK1919 | Lead generation from Maps |
| `email-finder-simplified` | Company Email Finder & Validator | Email finder (simple) |
| `email-finder-batch` | Company Email Finder & Validator (Batch) | Email finder (batch) |

## Competitor Monitoring

| ID | Name | Description |
|----|------|-------------|
| `LqjlLwaJi5QvxIRw` | Competitor Monitor v3 | Competitor monitoring v3 |
| `0X0zc3u3e8wuFsC6` | Competitor Monitor v4 - Sequential | Sequential competitor monitor |
| `934tjsUs6ZDYhptq` | Competitor Monitor - Change Detection v2 | Change detection monitoring |

## YouTube / Video Publishing

| ID | Name | Description |
|----|------|-------------|
| `LI7GSaGbxsR9vrOP` | PRODUCTION: GDrive → YouTube Auto-Publisher (Complete) | **MAIN PRODUCTION** - Full auto-publisher |
| `rB6v9ErO0WNtrYHk` | YouTube-Metadata-video-publisher-fixed | Fixed metadata publisher |
| `FjHidNlnelXO6Vxr` | GDrive → YouTube-metadata-video-bulk-Publisher | Bulk publisher |
| `c4490d85-6eb4-46b2-bbbf-5cb25d808f65` | Gdrive → YouTube Bulk Publisher with metadata | Bulk publisher with metadata |
| `PbTGzUIcqZW4jdos` | WORKING?: GDrive → YouTube-metadata-generator | Metadata generator |
| `pyg7L5pnaSV0jToT` | YouTube-Metadata-video-publisher-logged | Logged publisher |
| `2JneJniQA8m1i92U` | YouTube-captions-to-Metadata-publisher | Captions to metadata |
| `EToFKh0MPFTWGT42` | YouTube Diagnostic - Drive to MySQL Test | Diagnostic workflow |
| `c1aeebee-8a54-47c5-86f2-ea685351aae3` | Workflow 02 - Video Publisher | Video publisher workflow |
| `b7eaa4b9-e09c-4e97-b3ea-5dc61567fe79` | Workflow 01 - Raw Video Processor | Raw video processor |
| `41VpY80DRwGKGISZ` | Content Repurposing & Auto-Uploader | Content repurposing |

## YouTube Clips / Shorts

| ID | Name | Description |
|----|------|-------------|
| `57a7d601-f4d4-4949-a4f8-6e4885432697` | Create YouTube Shorts from Approved Clips | Shorts creator |
| `9JX1IFPpnMQMbvn2` | YouTube Clip Upload Workflow | Clip uploader |
| `orbJqfGnClSjT441` | Generate Clip Metadata | Clip metadata generator |
| `Nv6KnxPOsB3eyc7q` | Clip Video via FastAPI | FastAPI clip processor |

## YouTube Channel Import / Transcripts

| ID | Name | Description |
|----|------|-------------|
| `it98QrUHjpLYem7z` | YouTube Channel Importer (Backend) | Backend importer |
| `OIz5J4u85fSIm2lW` | YouTube Channel Importer - FIXED | Fixed version |
| `tMpbT3ICrTLzkRmV` | YouTube Channel Importer - WORKING | Working version |
| `7jAO8pc3G7OlmmLG` | YouTube Channel Importer (with @handle support) | Handle support |
| `6iuZrIYqj7kWog99` | YouTube Channel Importer - FastAPI | FastAPI version |
| `p9k80tzhf2pCa3Nb` | YouTube Channel Importer - FastAPI v2 | FastAPI v2 |
| `wfc9a81643b3a641` | YouTube Channel Importer - With Transcripts | With transcripts |
| `pGSmlHNFcwAAswCm` | YouTube Channel Importer - Complete | Complete version |
| `hvplCdxgEkHpcXMa` | YouTube RAG Complete Workflow | RAG workflow |
| `Fd18jgcQLlAnvJMr` | YouTube Transcript Search RAG with SingleStore | SingleStore RAG |
| `wDV6gghGarOIZviE` | Search Query Handler (Frontend) | Frontend search handler |

## KDP (Kindle Direct Publishing) Research

| ID | Name | Description |
|----|------|-------------|
| `AmazonKeywordWF` | Amazon Keyword Extractor - Complete | Keyword extraction |
| `sSQDah1Tq3V5zOdK` | KDP Sheets to PostgreSQL Sync | Sheets sync |
| `e5LpDni6krxfmVvP` | 3A KDP Research | KDP research |
| `evh6biAAuTxlktzP` | KDP Research - Categories + Subcategories (Unified) | Category research |
| `XouZXAcxcgizDsAY` | KDP - Category Sync & New Categories UI | Category sync |
| `C3WGfNvlKshtf0hl` | KDP - Amazon Category Sync to PostgreSQL | PostgreSQL sync |
| `BO3cqKcWHzypFQfo` | KDP - Category Sync Processor | Sync processor |
| `dAsl7O3ScEyCVp6y` | KDP - Smart Category stats | Category stats |
| `B6NN55wazemBojUA` | KDP - Category Sync Processor | Sync processor |
| `EYgezJV7NfWrHl4w` | KDP - Get Subcategories | Get subcategories |
| `Rx9Vz6Op02WAgXkG` | KDP - Get Subcategories (WORKING) | Working version |
| `3lGjdntywh6NtnDT` | KDP - Recursive Category Book Count | Book count |
| `8RMKZDNhq1gBEcrK` | KDP-Smart-Category-Counts | Smart counts |

## SEO / Content Analysis

| ID | Name | Description |
|----|------|-------------|
| `MultiSourceSEO` | Multi-Source SEO Research | Multi-source SEO |
| `YnqGjhW0HTJq0eBY` | Product - SERP Analysis (SerpAPI + Crawl4AI) | SERP analysis |
| `3BRvyoqRuX4QYWWV` | AI Overview Analyzer | AI overview analyzer |
| `4ViOjawp2E5PbJsu` | Analyze AI Overview | AI overview analysis |

## Amazon Ads

| ID | Name | Description |
|----|------|-------------|
| `GAbMy3KCEcY2RJom` | TEST - Amazon Profile ID | Test workflow |
| `0j2lpcrenscqnjVl` | Amazon Ads - Get Profile ID | Get profile ID |
| `vnazUWdMigTzdUyp` | Amazon Ads - Christian Business Book Keywords | Book keywords |

## Utility

| ID | Name | Description |
|----|------|-------------|
| `CXTBPD897XnXYlOd` | run py script on server | Python script runner |

---

## Key Webhooks for Video-Insights App

Based on the codebase, these are the webhooks used:

1. **Business Intelligence:** `https://automation.aiautomationauthority.com/webhook/business-intelligence`
   - Used by: `businessIntelligence.ts`
   - Purpose: Analyzes reviews, competitors, partnerships

2. **Leads Search:** `https://automation.aiautomationauthority.com/webhook/google-maps-leads`
   - Used by: `leadsScheduler.ts`
   - Environment variable: `LEADS_WEBHOOK_URL`
   - Callback: `/api/leads/webhook/results`

---

## SWOT Analysis Flow

The SWOT analysis flow has been updated to use DeepSeek R1 via OpenRouter for verified analysis with source URLs.

### Flow Overview

1. **Local Business Research** (Initial data gathering)
   - User adds a Client Business in their Profile or Local Business Research page
   - Creating a client auto-triggers n8n webhook to gather Google Maps local business data
   - n8n uses SerpAPI to find competitors, ideal customers, and potential partners

2. **SWOT Analysis Generation** (AI-powered analysis)
   - User clicks "Generate SWOT Analysis" on the SWOT Analysis page
   - System uses **DeepSeek R1** via OpenRouter for verified analysis
   - DeepSeek R1 provides:
     - SWOT items with reasoning chains
     - Source URLs for verification
     - Confidence levels (high/medium/low)
     - Verification notes about data quality

3. **PDF Report Generation** (Professional output)
   - User clicks "Download PDF" on completed SWOT analysis
   - Generates HTML report with:
     - Cover page with business name
     - Author: Stephen E Wright, Business Mgt Coach, Fractional CEO, Author
     - Executive summary
     - SWOT quadrants with sources
     - Sources & References section
     - Verification notes

### API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/leads/clients/:id/swot` | POST | Generate new SWOT analysis |
| `/api/leads/clients/:id/swot` | GET | Get all SWOT analyses for client |
| `/api/leads/clients/:id/swot/:swotId/pdf` | GET | Download SWOT as PDF (HTML for print) |

### Environment Variables

```env
# Required for DeepSeek R1
OPENROUTER_API_KEY=your_openrouter_api_key

# Optional - for OpenRouter headers
APP_URL=https://video-studio.askstephen.ai
```

### AI Model Configuration

Default model: **DeepSeek V3** (`deepseek/deepseek-chat`)
- Very accurate, doesn't hallucinate
- Cost: $0.14/1M input, $0.28/1M output
- Configurable via `OPENROUTER_SWOT_MODEL` env var
- Fallback: GPT-4o-mini if primary fails

**See full model reference:** `OPENROUTER_MODELS_REFERENCE.md`

Per-company model preferences can be stored in the `ai_preferences` field of client_businesses table.

---

## OAuth Token Information

### Method 1: OAuth 2.0 Playground (Recommended for Testing)

1. Go to https://developers.google.com/oauthplayground/
2. Click the gear icon (⚙️) in the top right
3. Check "Use your own OAuth credentials"
4. Enter your Client ID and Client Secret from `.env`:
   - Client ID: `653922382616-ldso3lsaofosmt1prmbk7alen2ut9son.apps.googleusercontent.com`
   - Client Secret: `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`
5. In Step 1, select the APIs you need:
   - YouTube Data API v3: `https://www.googleapis.com/auth/youtube`
   - YouTube Upload: `https://www.googleapis.com/auth/youtube.upload`
   - Google Drive: `https://www.googleapis.com/auth/drive`
6. Click "Authorize APIs" and sign in with your Google account
7. Click "Exchange authorization code for tokens"
8. Copy the Access Token and Refresh Token

### Method 2: n8n Built-in OAuth Flow

1. Access n8n at https://automation.aiautomationauthority.com
2. Go to Settings (gear icon) > Credentials
3. Find or create a "Google/YouTube" credential
4. Click "Connect" or "Reconnect"
5. Sign in with your Google account in the popup
6. n8n automatically stores and refreshes the token

### Method 3: Google Cloud Console Direct

1. Go to https://console.cloud.google.com/
2. Select your project (653922382616 - based on Client ID)
3. APIs & Services > Credentials
4. Click on your OAuth 2.0 Client ID
5. Note: You can't get tokens here directly, but you can:
   - View/copy Client ID and Secret
   - Add authorized redirect URIs
   - Check consent screen configuration

### Token Refresh Notes

- **Access tokens** expire after 1 hour
- **Refresh tokens** are long-lived but can be revoked
- n8n automatically handles token refresh when properly configured
- If refresh fails, the credential needs to be reconnected
- Store refresh tokens securely; they provide ongoing access

### Troubleshooting OAuth Issues

1. **"Invalid redirect URI"**: Add your redirect URI to the OAuth client in Google Cloud Console
   - For n8n: `https://automation.aiautomationauthority.com/rest/oauth2-credential/callback`
   - For Playground: `https://developers.google.com/oauthplayground`
2. **"Access denied"**: Check that the Google account has access to the YouTube channel/Drive
3. **"Quota exceeded"**: Check API quotas in Google Cloud Console > APIs & Services > Dashboard
4. **Token expired**: Use the refresh token to get a new access token, or re-authenticate

### Current OAuth Credentials in .env

Located at `/opt/stacks/video-studio/.env`:
```
YOUTUBE_CLIENT_ID=653922382616-ldso3lsaofosmt1prmbk7alen2ut9son.apps.googleusercontent.com
YOUTUBE_CLIENT_SECRET=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
```
